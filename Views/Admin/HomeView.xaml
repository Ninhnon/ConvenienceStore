<Page x:Class="ConvenienceStore.Views.Admin.HomeView"
        xmlns:vm="clr-namespace:ConvenienceStore.ViewModel.Admin"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ConvenienceStore.Views.Admin"
        xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
         xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes" 
      xmlns:Uc="clr-namespace:ConvenienceStore.Resources.UserControlCustom"
        d:DesignHeight="660"
        d:DesignWidth="1200"
        mc:Ignorable="d"
        x:Name="wdHome" Background="Beige"
                      Width="{Binding wdWidth}"
          Height="{Binding wdHeight}"
           DataContext="{StaticResource AdminMainWindowVM}">
    <!--Style="{StaticResource Page_Style}"-->
    <Grid Background="AliceBlue"
        DataContext="{StaticResource ReportVM}">
        <i:Interaction.Triggers>
            <i:EventTrigger EventName="Loaded">
                <i:InvokeCommandAction Command="{Binding LoadCommand}"
                                                CommandParameter="{Binding ElementName=wdHome}"/>
                <i:InvokeCommandAction Command="{Binding InitColumnChartTodayCommand}"
                                                CommandParameter="{Binding ElementName=wdHome}"/>
            </i:EventTrigger>
        </i:Interaction.Triggers>



        <StackPanel Orientation="Vertical" 
                    DataContext="{StaticResource ReportVM}" Margin="0,0,0,0">
            <StackPanel Orientation="Horizontal" 
                    DataContext="{StaticResource ReportVM}"
                    HorizontalAlignment="Left" 
                    VerticalAlignment="Top" 
                    Width="1559"
                    
                    Margin="40,30,0,0">
                <TextBlock FontSize="26" Foreground="#CCD7FF" Margin="50 35 0 20" Text="{Binding Hello}" HorizontalAlignment="Left"/>
                <Border Margin="15" CornerRadius="5" Width="295" Height="150">
                    <Border.Background>
                        <LinearGradientBrush StartPoint="0,1" EndPoint="1,1">
                            <GradientStop Offset="0" Color="#FFD700"/>
                            <GradientStop Offset="1" Color="#FFC100"/>
                        </LinearGradientBrush>
                    </Border.Background>
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="2*"/>
                            <RowDefinition/>
                            <RowDefinition/>
                            <RowDefinition Height="2*"/>
                        </Grid.RowDefinitions>

                        <TextBlock Text="&#xe602;"  FontSize="35" Foreground="White" VerticalAlignment="Bottom" Margin="10 0 0 0"/>
                        <TextBlock Text="{Binding ThisMonth}" Grid.Row="1" VerticalAlignment="Center" FontSize="16" Margin="10 0 0 0" Foreground="White"/>
                        <TextBlock Text="{Binding ThisMonthRevenue}" FontWeight="Bold" VerticalAlignment="Center" Grid.Row="2" FontSize="22" Margin="10 0 0 0" Foreground="White"/>
                        <TextBlock Text="{Binding IncreasingPercent}" Grid.Row="3" FontSize="20" Foreground="White" Margin="10 0 0 0" VerticalAlignment="Center"/>


                        <Canvas ClipToBounds="True" Grid.RowSpan="4">
                            <Border Canvas.Right="-40" Canvas.Top="10" Grid.RowSpan="4" Width="110" Height="110"  CornerRadius="100" Background="#ffffff" Opacity="0.2" VerticalAlignment="Top"  HorizontalAlignment="Right"/>
                            <Border Canvas.Right="-10" Canvas.Top="100" Grid.RowSpan="4" Width="110" Height="110" CornerRadius="100" Background="#ffffff" Opacity="0.2" VerticalAlignment="Bottom"  HorizontalAlignment="Right"/>
                        </Canvas>

                    </Grid>

                </Border>

                <materialDesign:Card
                        Width="320"
                    Height="150"
                        HorizontalAlignment="Right" 
                        
                        Background="#FFF34336" 
                        Margin="0">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="2*"/>
                            <RowDefinition Height="1*"/>
                            <RowDefinition Height="1*"/>
                        </Grid.RowDefinitions>
                        <TextBlock
                                Text="Số đơn bán được "
                                HorizontalAlignment="Left"
                                Margin="20,20,0,0" 
                                TextWrapping="Wrap" 
                                VerticalAlignment="Top" 
                                FontSize="22" 
                                
                                FontWeight="Medium"/>
                        <TextBlock 
                                x:Name="txbNumOfHiredField"
                                Grid.Row="1"
                                Text="{Binding NumOfSoldBill}"
                                HorizontalAlignment="Left"
                                Margin="20,0,0,0" 
                                TextWrapping="Wrap" 
                                VerticalAlignment="Center" 
                                FontSize="24" 
                                FontWeight="Bold" 
                                 />
                        <TextBlock
                                Grid.Row="2"
                                Text="{Binding ThisMonth1}"
                                HorizontalAlignment="Left"
                                Margin="20,0,0,0" 
                                TextWrapping="Wrap" 
                                VerticalAlignment="Center" 
                                FontSize="16" 
                                FontWeight="Medium" 
                                 />
                        <Grid 
                                Width="50"
                                Height="50" 
                                HorizontalAlignment="Right" 
                                VerticalAlignment="Top" 
                                Margin="0,20,20,0">

                        </Grid>
                    </Grid>
                </materialDesign:Card>

            </StackPanel>
            <StackPanel Margin="20,0,0,0"
                Orientation="Horizontal" VerticalAlignment="Bottom"
                        HorizontalAlignment="Center" >
                <RadioButton Content="Today" 
                        x:Name="todayButton"
                             IsChecked="True"
                        Style="{StaticResource topBtnStyle}">
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="Click">
                            <i:InvokeCommandAction Command="{Binding InitColumnChartTodayCommand}"
                                                CommandParameter="{Binding ElementName=wdHome}"/>
                        </i:EventTrigger>

                    </i:Interaction.Triggers>
                </RadioButton>

                <RadioButton Content="Month" 
                        x:Name="monthButton"
                        Style="{StaticResource topBtnStyle}">
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="Click">
                            <i:InvokeCommandAction Command="{Binding InitColumnChartMonthCommand}"
                                                CommandParameter="{Binding ElementName=wdHome}"/>
                        </i:EventTrigger>

                    </i:Interaction.Triggers>

                </RadioButton>
                <RadioButton Content="Year"
                        x:Name="yearButton"
                        Style="{StaticResource topBtnStyle}">
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="Click">
                            <i:InvokeCommandAction Command="{Binding InitColumnChartYearCommand}"
                                                CommandParameter="{Binding ElementName=wdHome}"/>
                        </i:EventTrigger>
                    </i:Interaction.Triggers>
                </RadioButton>
            </StackPanel>
            <Border CornerRadius="20"  Background="#243771"
                    BorderThickness="1"
                    HorizontalAlignment="Center"
                    Height="300" 
                 
                    
                   
                    >
                <Border.Effect>
                    <DropShadowEffect 
                            BlurRadius="8" 
                            ShadowDepth="1.5" 
                            Direction="270"
                      
                            Opacity=".42"/>
                </Border.Effect>
                <Grid
                        Margin="0" 
                        HorizontalAlignment="Center"
                        VerticalAlignment="Center"
                        Height="300" 
                        Width="580">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="39*"/>
                        <ColumnDefinition Width="106*"/>
                    </Grid.ColumnDefinitions>
                    <StackPanel 
                            Orientation="Horizontal"
                            VerticalAlignment="Top"
                            HorizontalAlignment="Left" 
                            Margin="60,20,0,0" Grid.ColumnSpan="2"/>
                    <lvc:CartesianChart
                            x:Name="lvcColumnChart" 
                           DataContext="{StaticResource ReportVM}"
                            Series="{Binding ColumnSeriesCollection, UpdateSourceTrigger=PropertyChanged}" 
                            LegendLocation="Bottom"
                            Width="540" 
                            Height="300" 
                            HorizontalAlignment="Left" 
                            VerticalAlignment="Bottom"
                            Margin="20,0,0,5" Grid.ColumnSpan="2" >
                        <lvc:CartesianChart.Background>
                            <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                                <GradientStop Color="#b92b27" Offset="0"/>
                                <GradientStop Color="#19547b" Offset="1.5"/>
                            </LinearGradientBrush>
                        </lvc:CartesianChart.Background>


                        <lvc:CartesianChart.AxisX>
                            <lvc:Axis 
                             x:Name="AxisXchart"
                                    Title="{Binding AxisXTitle, Mode=TwoWay}" 
                                    Labels="{Binding Labels, Mode=TwoWay}" 
                                   
                                    FontSize="14">
                                <lvc:Axis.Separator>
                                    <lvc:Separator Step="1"/>
                                </lvc:Axis.Separator>
                            </lvc:Axis>
                        </lvc:CartesianChart.AxisX>
                        <lvc:CartesianChart.AxisY>
                            <lvc:Axis 
                           x:Name="AxisYchart"
                                    Title="{Binding AxisYTitle, Mode=TwoWay}" 
                                    LabelFormatter="{Binding Formatter}"
                                    MinRange="0"
                                MinValue="0"
                                    FontSize="14">

                            </lvc:Axis>
                        </lvc:CartesianChart.AxisY>
                        <i:Interaction.Triggers>
                            <i:EventTrigger EventName="Initialized">
                                <i:InvokeCommandAction Command="{Binding InitColumnChartTodayCommand}" 
                                           CommandParameter="{Binding ElementName=wdHome}"/>
                            </i:EventTrigger>
                        </i:Interaction.Triggers>
                    </lvc:CartesianChart>
                </Grid>
            </Border>
        </StackPanel>

    </Grid>
</Page>
